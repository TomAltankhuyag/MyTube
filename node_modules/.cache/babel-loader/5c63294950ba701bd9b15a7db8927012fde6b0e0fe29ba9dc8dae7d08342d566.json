{"ast":null,"code":"import { mapState } from 'pinia';\nimport { VTextField, VSwitch, VBtn } from 'vuetify/components';\nimport { usePlaylistStore } from '../store/playlist';\nimport { useSettingStore } from '../store/settings';\nexport default {\n  components: {\n    VTextField,\n    VSwitch,\n    VBtn\n  },\n  data() {\n    return {\n      pauseSwitch: this.autopause,\n      key: 0,\n      label: 'Enter a URL or video ID',\n      placeholder: 'ex: https://www.youtube.com/watch?v=_83LZ79VMLg&ab_channel=MrMoMMusic'\n    };\n  },\n  computed: {\n    ...mapState(useSettingStore, ['autopause'])\n  },\n  emits: ['onSubmit', 'toggle-switch', 'mouseleave'],\n  methods: {\n    onSubmit(event) {\n      const userInput = event.srcElement._value;\n      if (userInput && userInput.replace(/\\s/g, '').length) {\n        this.$emit('onSubmit', userInput);\n      }\n    },\n    onPlayNext() {\n      const playStore = usePlaylistStore();\n      // Bug:[4 of this call -> then sync playlist -> play next]\n      if (++this.key === playStore.currentPlaylist.length) this.key = 0;\n      playStore.changeSong();\n    },\n    onSyncPlaylist() {\n      const playStore = usePlaylistStore();\n      playStore.syncPlaylist();\n    }\n  },\n  watch: {\n    pauseSwitch() {\n      const playStore = useSettingStore();\n      playStore.toggleAutopause();\n    }\n  }\n};","map":{"version":3,"names":["mapState","VTextField","VSwitch","VBtn","usePlaylistStore","useSettingStore","components","data","pauseSwitch","autopause","key","label","placeholder","computed","emits","methods","onSubmit","event","userInput","srcElement","_value","replace","length","$emit","onPlayNext","playStore","currentPlaylist","changeSong","onSyncPlaylist","syncPlaylist","watch","toggleAutopause"],"sources":["X:\\Coding\\MyTube\\src\\components\\YoutubeController.vue"],"sourcesContent":["<template lang=\"pug\">\n.youtube-configurator\n  .container\n    v-text-field(:label=\"label\"\n      :placeholder=\"placeholder\"\n      @keyup.enter=\"onSubmit\"\n      clearable\n      hide-details=\"auto\").input-style\n    v-switch(v-model=\"pauseSwitch\"\n      label=\"Pause on load\"\n      color=\"red\"\n      :class=\"{activated: pauseSwitch}\").switch-style\n    .butonic-plague\n      v-btn(@click=\"onSyncPlaylist\").btn-style Sync Playlist\n      v-btn(@click=\"onPlayNext\").btn-style Play Next\n\n</template>\n\n<script>\nimport { mapState } from 'pinia'\nimport { VTextField,VSwitch, VBtn } from 'vuetify/components'\nimport { usePlaylistStore } from '../store/playlist'\nimport { useSettingStore } from '../store/settings'\nexport default {\n  components: {\n    VTextField,\n    VSwitch,\n    VBtn\n  },\n  data() {\n    return {\n      pauseSwitch: this.autopause,\n      key: 0,\n      label: 'Enter a URL or video ID',\n      placeholder: 'ex: https://www.youtube.com/watch?v=_83LZ79VMLg&ab_channel=MrMoMMusic'\n    }\n  },\n  computed: {\n    ...mapState(useSettingStore, ['autopause'])\n  },\n  emits: ['onSubmit', 'toggle-switch', 'mouseleave'],\n  methods: {\n    onSubmit(event) {\n      const userInput = event.srcElement._value\n      if (userInput && userInput.replace(/\\s/g, '').length) {\n        this.$emit('onSubmit', userInput)\n      }\n    },\n    onPlayNext() {\n      const playStore = usePlaylistStore()\n      // Bug:[4 of this call -> then sync playlist -> play next]\n      if (++this.key === playStore.currentPlaylist.length) this.key = 0\n      playStore.changeSong()\n    },\n    onSyncPlaylist(){\n      const playStore = usePlaylistStore()\n      playStore.syncPlaylist()\n    }\n  },\n  watch: {\n    pauseSwitch() {\n      const playStore = useSettingStore()\n      playStore.toggleAutopause()\n    }\n  }\n}\n</script>\n<style>\n\n</style>\n<style lang=\"scss\" scoped>\n@import 'src/styles/flex';\n\n.youtube-configurator {\n  @include flex-row();\n  justify-content: space-between;\n  margin: 25px;\n\n  .container {\n    @include flex-column();\n    justify-content: space-between;\n\n    .input-style {\n      color: red;\n      // background-color: black;\n      width: 350px;\n    }\n    .btn-style {\n      margin-bottom: 10px;\n    }\n    .activated {\n      color: red;\n    }\n  }\n\n}\n</style>\n"],"mappings":"AAmBA,SAASA,QAAO,QAAS,OAAM;AAC/B,SAASC,UAAU,EAACC,OAAO,EAAEC,IAAG,QAAS,oBAAmB;AAC5D,SAASC,gBAAe,QAAS,mBAAkB;AACnD,SAASC,eAAc,QAAS,mBAAkB;AAClD,eAAe;EACbC,UAAU,EAAE;IACVL,UAAU;IACVC,OAAO;IACPC;EACF,CAAC;EACDI,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,WAAW,EAAE,IAAI,CAACC,SAAS;MAC3BC,GAAG,EAAE,CAAC;MACNC,KAAK,EAAE,yBAAyB;MAChCC,WAAW,EAAE;IACf;EACF,CAAC;EACDC,QAAQ,EAAE;IACR,GAAGb,QAAQ,CAACK,eAAe,EAAE,CAAC,WAAW,CAAC;EAC5C,CAAC;EACDS,KAAK,EAAE,CAAC,UAAU,EAAE,eAAe,EAAE,YAAY,CAAC;EAClDC,OAAO,EAAE;IACPC,QAAQA,CAACC,KAAK,EAAE;MACd,MAAMC,SAAQ,GAAID,KAAK,CAACE,UAAU,CAACC,MAAK;MACxC,IAAIF,SAAQ,IAAKA,SAAS,CAACG,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAACC,MAAM,EAAE;QACpD,IAAI,CAACC,KAAK,CAAC,UAAU,EAAEL,SAAS;MAClC;IACF,CAAC;IACDM,UAAUA,CAAA,EAAG;MACX,MAAMC,SAAQ,GAAIrB,gBAAgB,CAAC;MACnC;MACA,IAAI,EAAE,IAAI,CAACM,GAAE,KAAMe,SAAS,CAACC,eAAe,CAACJ,MAAM,EAAE,IAAI,CAACZ,GAAE,GAAI;MAChEe,SAAS,CAACE,UAAU,CAAC;IACvB,CAAC;IACDC,cAAcA,CAAA,EAAE;MACd,MAAMH,SAAQ,GAAIrB,gBAAgB,CAAC;MACnCqB,SAAS,CAACI,YAAY,CAAC;IACzB;EACF,CAAC;EACDC,KAAK,EAAE;IACLtB,WAAWA,CAAA,EAAG;MACZ,MAAMiB,SAAQ,GAAIpB,eAAe,CAAC;MAClCoB,SAAS,CAACM,eAAe,CAAC;IAC5B;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}