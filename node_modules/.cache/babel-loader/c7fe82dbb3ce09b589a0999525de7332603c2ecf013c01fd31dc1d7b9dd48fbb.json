{"ast":null,"code":"import { YOUTUBE_API_CODES } from '../constants/constants';\nimport { YOUTUBE_API_KEY } from \"../constants/api-key\";\nexport function validateVideoId(id = 'lxF31-mHLz0') {\n  return new Promise(resolve => {\n    const videoID = id;\n    const request = new XMLHttpRequest();\n    request.open('GET', 'https://www.googleapis.com/youtube/v3/videos?part=snippet%2CcontentDetails%2Cstatistics&id=' + videoID + '&key=' + YOUTUBE_API_KEY, true);\n    request.onreadystatechange = () => {\n      if (request.readyState === request.DONE) {\n        const code = validateVideoIdState(request);\n        console.log(code);\n        resolve(code);\n      }\n    };\n    request.send();\n  });\n}\nfunction validateVideoIdState(request) {\n  if (!request || request.status < 200 || request.status >= 300) {\n    return YOUTUBE_API_CODES.GOOGLE_ERROR;\n  }\n  const responseText = JSON.parse(request.responseText);\n  // console.log(responseText)\n\n  if (responseText.items && responseText.items.length) {\n    return {\n      status: YOUTUBE_API_CODES.INVALID\n    };\n  } else {\n    const payload = {\n      status: YOUTUBE_API_CODES.VALID,\n      items: responseText.items\n    };\n    console.log(payload);\n    return payload;\n  }\n}","map":{"version":3,"names":["YOUTUBE_API_CODES","YOUTUBE_API_KEY","validateVideoId","id","Promise","resolve","videoID","request","XMLHttpRequest","open","onreadystatechange","readyState","DONE","code","validateVideoIdState","console","log","send","status","GOOGLE_ERROR","responseText","JSON","parse","items","length","INVALID","payload","VALID"],"sources":["X:/Coding/MyTube/src/utility/youtube-video-validation.js"],"sourcesContent":["import { YOUTUBE_API_CODES } from '../constants/constants'\nimport { YOUTUBE_API_KEY } from \"../constants/api-key\"\n\nexport function validateVideoId(id = 'lxF31-mHLz0') {\n  return new Promise((resolve) => {\n    const videoID = id\n    const request = new XMLHttpRequest()\n\n    request.open('GET', 'https://www.googleapis.com/youtube/v3/videos?part=snippet%2CcontentDetails%2Cstatistics&id='\n      + videoID + '&key=' + YOUTUBE_API_KEY, true)\n\n    request.onreadystatechange = () => {\n      if (request.readyState === request.DONE) {\n        const code = validateVideoIdState(request)\n        console.log(code);\n        resolve(code)\n      }\n    }\n\n    request.send()\n  })\n}\n\nfunction validateVideoIdState(request) {\n  if (!request || request.status < 200 || request.status >= 300) {\n    return YOUTUBE_API_CODES.GOOGLE_ERROR\n  }\n\n  const responseText = JSON.parse(request.responseText)\n  // console.log(responseText)\n\n  if (responseText.items && responseText.items.length) {\n    return { status : YOUTUBE_API_CODES.INVALID}\n  } else {\n    const payload = {\n      status: YOUTUBE_API_CODES.VALID,\n      items: responseText.items\n    }\n    console.log(payload)\n    return payload\n  }\n}\n"],"mappings":"AAAA,SAASA,iBAAiB,QAAQ,wBAAwB;AAC1D,SAASC,eAAe,QAAQ,sBAAsB;AAEtD,OAAO,SAASC,eAAeA,CAACC,EAAE,GAAG,aAAa,EAAE;EAClD,OAAO,IAAIC,OAAO,CAAEC,OAAO,IAAK;IAC9B,MAAMC,OAAO,GAAGH,EAAE;IAClB,MAAMI,OAAO,GAAG,IAAIC,cAAc,CAAC,CAAC;IAEpCD,OAAO,CAACE,IAAI,CAAC,KAAK,EAAE,6FAA6F,GAC7GH,OAAO,GAAG,OAAO,GAAGL,eAAe,EAAE,IAAI,CAAC;IAE9CM,OAAO,CAACG,kBAAkB,GAAG,MAAM;MACjC,IAAIH,OAAO,CAACI,UAAU,KAAKJ,OAAO,CAACK,IAAI,EAAE;QACvC,MAAMC,IAAI,GAAGC,oBAAoB,CAACP,OAAO,CAAC;QAC1CQ,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC;QACjBR,OAAO,CAACQ,IAAI,CAAC;MACf;IACF,CAAC;IAEDN,OAAO,CAACU,IAAI,CAAC,CAAC;EAChB,CAAC,CAAC;AACJ;AAEA,SAASH,oBAAoBA,CAACP,OAAO,EAAE;EACrC,IAAI,CAACA,OAAO,IAAIA,OAAO,CAACW,MAAM,GAAG,GAAG,IAAIX,OAAO,CAACW,MAAM,IAAI,GAAG,EAAE;IAC7D,OAAOlB,iBAAiB,CAACmB,YAAY;EACvC;EAEA,MAAMC,YAAY,GAAGC,IAAI,CAACC,KAAK,CAACf,OAAO,CAACa,YAAY,CAAC;EACrD;;EAEA,IAAIA,YAAY,CAACG,KAAK,IAAIH,YAAY,CAACG,KAAK,CAACC,MAAM,EAAE;IACnD,OAAO;MAAEN,MAAM,EAAGlB,iBAAiB,CAACyB;IAAO,CAAC;EAC9C,CAAC,MAAM;IACL,MAAMC,OAAO,GAAG;MACdR,MAAM,EAAElB,iBAAiB,CAAC2B,KAAK;MAC/BJ,KAAK,EAAEH,YAAY,CAACG;IACtB,CAAC;IACDR,OAAO,CAACC,GAAG,CAACU,OAAO,CAAC;IACpB,OAAOA,OAAO;EAChB;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}